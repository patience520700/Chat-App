<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login/Signup - LðŸ’žvenett</title>
  <!-- Fontawesome CDN Link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Add Google Identity Services script -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    /* ===== BASE STYLES ===== */
    :root {
      --primary: #0062cc;
      --primary-light: #4a90e2;
      --primary-gradient: linear-gradient(135deg, #0062cc 0%, #0080ff 100%);
      --secondary: #ff4b93;
      --white: #ffffff;
      --light-bg: #cce6ff;
      --text-dark: #333333;
      --text-light: #666666;
      --shadow: 0 5px 15px rgba(0, 98, 204, 0.1);
      --radius: 12px;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    
    body {
      background: var(--light-bg);
      color: var(--text-dark);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      line-height: 1.3;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    section {
      padding: 80px 0;
    }
    
    .btn {
      display: inline-block;
      padding: 14px 32px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      text-align: center;
      cursor: pointer;
      box-shadow: var(--shadow);
    }
    
    .btn-primary {
      background: var(--primary-gradient);
      color: var(--white);
      border: none;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 98, 204, 0.3);
    }
    
    .btn-secondary {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }
    
    .btn-secondary:hover {
      background: var(--primary);
      color: var(--white);
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 60px;
      position: relative;
    }
    
    .section-title h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 15px;
    }
    
    .section-title p {
      font-size: 1.1rem;
      color: var(--text-light);
      max-width: 700px;
      margin: 0 auto;
    }
    
    .section-title::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: var(--primary-gradient);
      margin: 20px auto;
      border-radius: 2px;
    }
    
    /* ===== NAVIGATION ===== */
    .navbar {
      background: var(--white);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      padding: 15px 0;
    }
    
    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .app-name {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      display: flex;
      align-items: center;
    }
    
    .app-name span {
      margin-right: 5px;
    }
    
    .nav-tabs {
      display: flex;
      list-style: none;
    }
    
    .nav-tab a {
      color: var(--text-dark);
      text-decoration: none;
      padding: 10px 20px;
      display: block;
      transition: all 0.3s;
      border-radius: 5px;
      font-weight: 500;
    }
    
    .nav-tab a:hover, .nav-tab a.active {
      color: var(--primary);
      background: rgba(0, 98, 204, 0.05);
    }
    
    .hamburger {
      display: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--primary);
    }
    
    /* ===== FORM STYLES ===== */
    .form-container-body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: var(--light-bg);
      padding: 20px;
    }
    
    .form-wrapper {
      width: 100%;
      max-width: 850px;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      margin: 80px 0 40px;
    }
    
    .form-cover {
      flex: 1;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: var(--white);
      text-align: center;
      padding: 40px;
      background: var(--primary-gradient);
    }
    
    .form-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
      opacity: 0.2;
    }
    
    .form-cover .text {
      z-index: 1;
    }
    
    .form-cover .text-1 {
      font-size: 26px;
      font-weight: 600;
      margin-bottom: 10px;
      display: block;
    }
    
    .form-cover .text-2 {
      font-size: 18px;
    }
    
    .form-content {
      flex: 1;
      padding: 40px 30px;
      position: relative;
    }
    
    .form-content .title {
      font-size: 28px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 25px;
      text-align: center;
      font-family: 'Playfair Display', serif;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .title-icon {
      font-size: 32px;
      color: var(--primary);
    }
    
    .form-content form {
      margin: 20px 0;
    }
    
    .input-box {
      margin-bottom: 20px;
      position: relative;
    }
    
    .input-box input,
    .input-box select {
      height: 50px;
      width: 100%;
      outline: none;
      padding: 0 15px 0 45px;
      font-size: 16px;
      border-radius: var(--radius);
      border: 1px solid #ccc;
      transition: all 0.3s ease;
    }
    
    .input-box input:focus,
    .input-box select:focus {
      border-color: var(--primary);
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    
    .input-box i {
      position: absolute;
      top: 50%;
      left: 15px;
      transform: translateY(-50%);
      color: var(--primary);
      font-size: 18px;
    }
    
    .password-toggle {
      left: auto !important;
      right: 15px;
      cursor: pointer;
    }
    
    .checkbox-group {
      display: flex;
      align-items: center;
      margin: 20px 0;
    }
    
    .checkbox-group input {
      margin-right: 10px;
    }
    
    .checkbox-group label {
      font-size: 14px;
      color: var(--text-light);
    }
    
    .checkbox-group a {
      color: var(--primary);
      text-decoration: none;
    }
    
    .checkbox-group a:hover {
      text-decoration: underline;
    }
    
    .button input {
      color: var(--white);
      background: var(--primary-gradient);
      border-radius: var(--radius);
      padding: 0;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-size: 18px;
      font-weight: 500;
      letter-spacing: 1px;
      height: 50px;
      width: 100%;
      box-shadow: var(--shadow);
    }
    
    .button input:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 98, 204, 0.3);
    }
    
    .text {
      font-size: 14px;
      text-align: center;
      margin: 15px 0;
    }
    
    .text a {
      color: var(--primary);
      text-decoration: none;
    }
    
    .text a:hover {
      text-decoration: underline;
    }
    
    .sign-up-text {
      text-align: center;
      margin-top: 25px;
    }
    
    .sign-up-text label {
      color: var(--primary);
      cursor: pointer;
      font-weight: 600;
    }
    
    .sign-up-text label:hover {
      text-decoration: underline;
    }
    
    /* Image Styles */
    .form-image {
      width: 100%;
      text-align: center;
      margin-bottom: 20px;
    }
    
    .form-image img {
      max-width: 180px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    /* Social Login Styles */
    .social-login {
      margin: 20px 0;
    }
    
    .divider {
      display: flex;
      align-items: center;
      margin: 20px 0;
    }
    
    .divider-line {
      flex: 1;
      height: 1px;
      background: #ccc;
    }
    
    .divider-text {
      padding: 0 10px;
      color: var(--text-light);
      font-size: 14px;
    }
    
    .g_id_signin {
      margin: 0 auto;
      display: flex;
      justify-content: center;
    }
    
    /* ===== FLOATING BUTTONS ===== */
    .floating-btns {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .floating-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--primary-gradient);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 15px rgba(0, 98, 204, 0.4);
      text-decoration: none;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    .floating-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(0, 98, 204, 0.5);
    }
    
    .back-to-menu {
      position: fixed;
      bottom: 30px;
      left: 30px;
      z-index: 1000;
    }
    
    /* ===== RESPONSIVE STYLES ===== */
    @media (max-width: 992px) {
      .form-wrapper {
        flex-direction: column;
        max-width: 600px;
      }
      
      .form-cover {
        padding: 30px 20px;
      }
      
      .form-cover .text-1 {
        font-size: 22px;
      }
      
      .form-cover .text-2 {
        font-size: 16px;
      }
      
      .form-image img {
        max-width: 150px;
      }
    }
    
    @media (max-width: 768px) {
      .navbar {
        padding: 12px 0;
      }
      
      .nav-tabs {
        position: fixed;
        top: 0;
        right: -100%;
        width: 70%;
        height: 100vh;
        background: var(--white);
        flex-direction: column;
        padding: 80px 30px 30px;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        transition: right 0.3s ease;
        z-index: 999;
      }
      
      .nav-tabs.active {
        right: 0;
      }
      
      .nav-tab {
        margin: 15px 0;
      }
      
      .nav-tab a {
        padding: 15px;
        font-size: 1.1rem;
      }
      
      .hamburger {
        display: block;
        z-index: 1000;
      }
      
      .form-content {
        padding: 30px 20px;
      }
      
      .floating-btn {
        width: 50px;
        height: 50px;
        font-size: 1rem;
      }
      
      .back-to-menu, .floating-btns {
        bottom: 20px;
      }
      
      .back-to-menu {
        left: 20px;
      }
      
      .floating-btns {
        right: 20px;
      }
      
      .form-image img {
        max-width: 120px;
      }
    }
    
    @media (max-width: 480px) {
      .app-name {
        font-size: 1.7rem;
      }
      
      .form-content .title {
        font-size: 24px;
      }
      
      .input-box input,
      .input-box select {
        padding: 0 15px 0 40px;
        font-size: 14px;
      }
      
      .input-box i {
        font-size: 16px;
      }
      
      .floating-btn {
        width: 50px;
        height: 50px;
        font-size: 1rem;
      }
      
      .form-image img {
        max-width: 100px;
      }
    }
  </style>
</head>

<body class="form-container-body">
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <h1 class="app-name"><span>L</span>ðŸ’ž<span>venett</span></h1>
      <div class="hamburger" id="hamburger">
        <i class="fas fa-bars"></i>
      </div>
      <ul class="nav-tabs">
        <li class="nav-tab"><a href="index.html">Home</a></li>
        <li class="nav-tab"><a href="subscription.html">Subscription</a></li>
        <li class="nav-tab"><a href="chat.html">Messages</a></li>
        <li class="nav-tab"><a href="FAQ.html">FAQ</a></li>
      </ul>
    </div>
  </nav>

  <div class="form-wrapper">
    <div class="form-cover">
      <img src="images/frontImg.jpg" alt="Background Image">
      <div class="text">
        <span class="text-1">Every new friend is a <br> new adventure</span>
        <span class="text-2">Let's get connected</span>
      </div>
    </div>
    
    <div class="form-content">
      <div class="login-form">
        <div class="title">
          <i class="fas fa-sign-in-alt title-icon"></i>
          Login
        </div>
        
        <div class="form-image">
          <img src="https://placehold.co/400x300/cce6ff/0062cc?text=Welcome+Back" alt="Login Illustration">
        </div>
        
        <form action="chat.html" id="loginForm">
          <div class="input-box">
            <i class="fas fa-envelope"></i>
            <input type="email" placeholder="Enter your email" required>
          </div>
          <div class="input-box">
            <i class="fas fa-lock"></i>
            <input type="password" placeholder="Enter your password" required>
            <i class="fas fa-eye password-toggle" id="togglePassword"></i>
          </div>
          <div class="text"><a href="forgotpassword.html">Forgot password?</a></div>
          <div class="button">
            <input type="submit" value="Login">
          </div>
          <div class="text sign-up-text">Don't have an account? <a href="#" id="showSignup">Signup now</a></div>
        </form>
      </div>
      
      <div class="signup-form" style="display: none;">
        <div class="title">
          <i class="fas fa-user-plus title-icon"></i>
          Signup
        </div>
        
        <div class="form-image">
          <img src="https://placehold.co/400x300/cce6ff/0062cc?text=Join+Our+Community" alt="Signup Illustration">
        </div>
        
        <!-- Modification ici pour utiliser FormSubmit -->
        <form action="https://formsubmit.co/lovenett679@gmail.com" method="POST" id="signupForm">
          <input type="hidden" name="_subject" value="New registration on Lovenett">
          <input type="hidden" name="_template" value="table">
          <input type="hidden" name="_next" value="https://yourdomain.com/thank-you.html">
          <input type="hidden" name="_cc" value="lovenett679@gmail.com">
          <input type="hidden" name="_autoresponse" value="Thank you for registering on Lovenett. If this wasn't you, please click here to cancel: [LINK]">
          
          <div class="input-box">
            <i class="fas fa-user"></i>
            <input type="text" id="register-username" name="username" placeholder="Choose a username" required>
          </div>
          <div class="input-box">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" name="email" placeholder="name@example.com" required>
          </div>
          <div class="input-box">
            <i class="fas fa-venus-mars"></i>
            <select id="gender" name="gender" required aria-label="Gender">
              <option value="" disabled selected>Select Gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
          <div class="input-box">
            <i class="fas fa-globe"></i>
            <select id="country" name="country" required aria-label="Country">
              <option value="" disabled selected>Loading countries...</option>
            </select>
          </div>
          <div class="input-box">
            <i class="fas fa-phone"></i>
            <input type="tel" id="phone" name="phone" placeholder="Enter phone number" required>
          </div>
          <div class="input-box">
            <i class="fas fa-calendar"></i>
            <input type="date" id="register-birthdate" name="birthdate" required aria-label="Date of Birth">
          </div>
          <div class="input-box">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" name="password" placeholder="Create password" minlength="8" required>
            <i class="fas fa-eye password-toggle" id="toggleSignupPassword"></i>
          </div>
          <div class="input-box">
            <i class="fas fa-lock"></i>
            <input type="password" id="confirm-password" placeholder="Confirm password" required>
            <i class="fas fa-eye password-toggle" id="toggleConfirmPassword"></i>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="terms" name="terms" required>
            <label for="terms">I agree to the <a href="terms.html" target="_blank">Terms</a> and <a href="privacy.html" target="_blank">Privacy Policy</a></label>
          </div>
          <div class="button">
            <input type="submit" value="Signup">
          </div>

          <!-- Social Login Divider -->
          <div class="social-login">
            <div class="divider">
              <span class="divider-line"></span>
              <span class="divider-text">or</span>
              <span class="divider-line"></span>
            </div>
            
            <div id="g_id_onload"
              data-client_id="603546094209-bvmjd3enpeavqflak07i6msqt5v6bro6.apps.googleusercontent.com"
              data-context="signup"
              data-ux_mode="popup"
              data-callback="handleGoogleSignIn"
              data-auto_prompt="false"> 
            </div>
            <div class="g_id_signin"
              data-type="standard"
              data-shape="rectangular"
              data-theme="outline"
              data-text="signup_with"
              data-size="large"
              data-logo_alignment="left"
              data-width="300">
            </div>
          </div>
          <div class="text sign-up-text">Already have an account? <a href="#" id="showLogin">Login now</a></div>
        </form>
      </div>
    </div>
  </div>
  
  <!-- Floating Buttons -->
  <div class="back-to-menu">
    <a href="index.html" class="floating-btn">
      <i class="fas fa-home"></i>
    </a>
  </div>
  
  <div class="floating-btns">
    <button class="floating-btn" id="backToTopBtn">
      <i class="fas fa-arrow-up"></i>
    </button>
  </div>

  <script>
    // DOM Ready
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile Menu Toggle
      const hamburger = document.getElementById('hamburger');
      const navTabs = document.querySelector('.nav-tabs');
      
      if (hamburger && navTabs) {
        hamburger.addEventListener('click', function() {
          navTabs.classList.toggle('active');
          this.classList.toggle('active');
          
          // Change icon
          const icon = this.querySelector('i');
          if (navTabs.classList.contains('active')) {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
          } else {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          }
        });
      }
      
      // Form toggle functionality
      const showSignupBtn = document.getElementById('showSignup');
      const showLoginBtn = document.getElementById('showLogin');
      const loginForm = document.querySelector('.login-form');
      const signupForm = document.querySelector('.signup-form');
      
      if (showSignupBtn && showLoginBtn) {
        showSignupBtn.addEventListener('click', function(e) {
          e.preventDefault();
          loginForm.style.display = 'none';
          signupForm.style.display = 'block';
        });
        
        showLoginBtn.addEventListener('click', function(e) {
          e.preventDefault();
          signupForm.style.display = 'none';
          loginForm.style.display = 'block';
        });
      }
      
      // Script pour le bouton Back to Top
      const backToTopBtn = document.getElementById('backToTopBtn');
      
      // Back to top functionality
      backToTopBtn.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
      
      // Show/hide back to top button based on scroll position
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          backToTopBtn.style.opacity = '1';
          backToTopBtn.style.visibility = 'visible';
        } else {
          backToTopBtn.style.opacity = '0';
          backToTopBtn.style.visibility = 'hidden';
        }
      });
      
      // Initialize back to top button as hidden
      backToTopBtn.style.opacity = '0';
      backToTopBtn.style.visibility = 'hidden';
      
      // Password toggle functionality
      document.querySelectorAll('.password-toggle').forEach(toggle => {
        toggle.addEventListener('click', function() {
          const input = this.parentElement.querySelector('input');
          const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
          input.setAttribute('type', type);
          this.classList.toggle('fa-eye-slash');
        });
      });

      // Cache countries for better performance
      let cachedCountries = null;
      
      async function loadCountries() {
        const select = document.getElementById('country');
        
        if (cachedCountries) {
          renderCountries(cachedCountries);
          return;
        }
      
        try {
          select.disabled = true;
          const response = await fetch('https://restcountries.com/v3.1/all?fields=cca2,name,idd');
          if (!response.ok) throw new Error('Failed to fetch countries');
          
          const countries = await response.json();
          cachedCountries = countries;
          renderCountries(countries);
        } catch (error) {
          console.error("Country load error:", error);
          select.innerHTML = `
            <option value="" disabled selected>
              Failed to load. Please refresh.
            </option>
          `;
        } finally {
          select.disabled = false;
        }
      }
      
      function renderCountries(countries) {
        const select = document.getElementById('country');
        const processed = countries.map(c => ({
          code: c.cca2,
          name: c.name.common,
          phoneCode: c.idd.root + (c.idd.suffixes?.[0] || '')
        })).sort((a, b) => a.name.localeCompare(b.name));
      
        select.innerHTML = `
          <option value="" disabled selected>Select Country</option>
          ${processed.map(country => `
            <option 
              value="${country.code}" 
              data-phone="${country.phoneCode}"
            >
              ${country.name} (${country.phoneCode})
            </option>
          `).join('')}
        `;
      }
      
      loadCountries();
      
      document.getElementById('country')?.addEventListener('change', function() {
        const phoneInput = document.getElementById('phone');
        if (!phoneInput) return;
        const selected = this.options[this.selectedIndex];
        phoneInput.value = selected.dataset.phone || '';
      });
      
      // Form submission handling
      document.getElementById('signupForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Validate password match
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        
        if (password !== confirmPassword) {
          alert('Passwords do not match!');
          return;
        }
        
        // If validation passes, submit the form
        this.submit();
        
        // Show thank you message (will be replaced by FormSubmit's redirect)
        alert('Thank you for registering! Please check your email to verify your account.');
      });
    });

    function handleGoogleSignIn(response) {
      const responsePayload = parseJwt(response.credential);
      document.getElementById('register-username').value = responsePayload.given_name || '';
      document.getElementById('email').value = responsePayload.email || '';
      
      if (responsePayload.given_name) {
        const femaleNames = ['Maria', 'Anna', 'Emma', 'Sophia'];
        const isLikelyFemale = femaleNames.some(name => 
          responsePayload.given_name.toLowerCase().includes(name.toLowerCase())
        );
        if (isLikelyFemale) {
          document.getElementById('gender').value = 'female';
        }
      }
      
      document.getElementById('phone').focus();
      console.log('Google sign-in successful:', responsePayload);
    }
    
    function parseJwt(token) {
      try {
        const base64Url = token.split('.')[1];
        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
        return JSON.parse(jsonPayload);
      } catch (e) {
        console.error('Error parsing JWT:', e);
        return {};
      }
    }
  </script>
</body>
</html>